<app-menu></app-menu>

<div class="ventana">
  <div class="titulo">Productos</div>
  <div><img class="imgprod" src="../../../assets/plus-sign-button_17340.png" (click)="AbrirModal()"></div>
  <div class="datos">


    <!-- tabla de ingresar datos -->
    <table class="table table-hover">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Imagen</th>
          <th scope="col">Categorias</th>
          <th scope="col">Codigo Producto</th>
          <th scope="col">Nombre</th>
          <th scope="col">Precio</th>
          <th scope="col">Estado</th>
        </tr>
      </thead>
      <tbody *ngFor="let item of datos" (click)="EditarId(item._id)">
        <tr>
          <td> <img src="{{item.imagen}}" class="imgdashboard"></td>
          <td>{{item.cod_cat}}</td>
          <td>{{item.cod_prod}}</td>
          <td>{{item.nombre}}</td>
          <td>{{item.precio | currency}}</td>
          <td>
            <div *ngIf="item.estado == 1">Activo</div>
            <div *ngIf="item.estado == 0">InActivo</div>
          </td>
        </tr>

      </tbody>
    </table>
  </div>

</div>

<br>


<!-- Modal -->
<div class="modal fade" id="modalnuevo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Productos</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="form-group">
          <label for="imagen">Imagen</label>
          <input type="email" class="form-control" id="imagen" [(ngModel)]="imagen">
        </div>

        <div class="form-group">
          <label for="categorias">Categorias</label>
          <select class="form-control" id="categorias" [(ngModel)]="cod_cat">
            <option value={{item.cod_cat}} *ngFor="let item of datosCategorias">{{item.cod_cat}}</option>

          </select>
        </div>

        <div class="form-group">
          <label for="codigo">Codigo Producto</label>
          <input type="email" class="form-control" id="codigo" [(ngModel)]="cod_prod" [disabled]="Idseleccionado !=''">
        </div>

        <div class="form-group">
          <label for="nombre">Nombre</label>
          <input type="email" class="form-control" id="nombre" [(ngModel)]="nombre">
        </div>

        <div class="form-group">
          <label for="precio">Precio</label>
          <input type="email" class="form-control" id="precio" [(ngModel)]="precio">
        </div>

        <div class="form-group">
          <label for="estado">Estado</label>
          <select class="form-control" id="estado" [(ngModel)]="estado">
            <option value="0">InActivo</option>
            <option value="1">Activo</option>
          </select>
        </div>

      </div>
      <div class="modal-footer">

        <button type="button" class="btn btn-primary" (click)="Guardar()" *ngIf="Idseleccionado == ''">Guardar</button>
        <button type="button" class="btn btn-primary" (click)="Actualizar()"
          *ngIf="Idseleccionado != ''">Actualizar</button>
        <button type="button" class="btn btn-primary" (click)="Eliminar()"
          *ngIf="Idseleccionado != ''">Eliminar</button>
      </div>
    </div>
  </div>
</div>
